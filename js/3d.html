<!DOCTYPE html>
<meta charset="utf-8"/>
<html>
	<head>
        <style>
            h2 {font-family:Arial, Helvetica, sans-serif; }
            label {font-family:Arial, Helvetica, sans-serif; }
			text {font-family:Arial, Helvetica, sans-serif; }
        </style>
    </head>
	<body style="background-color: rgb(255, 255, 255);">
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr;">
            <div style="grid-column: 1;">
                <label for="stepsPerFrame" id="stepsPerFrameLabel">Updates/frame</label>
                <br>
                <input type="range" id="stepsPerFrame" min="0" max="4.0" value="0.0"
                    style="width: 95%;">
                <br>
                <label id="fps">fps: </label>
                <br>
                <button type="button"
					aria-pressed="true" id="rotateViewButton">Rotate view</button>
				<br>
                <button type="button"
					aria-pressed="true" id="newWaveFuncButton">New Ψ</button>
				<br>
                <label for="timeStepReal" id="timeStepRealLabel">Re(Δt)
                </label>
                <br>
                <input type="range" id="timeStepReal"
                        name="timeStepReal"
                        min="-80.0" max="80.0" value="64.0"
                        style="width: 95%;"/>
                <!--default value should be 64.-->
                <br>
                <label for="timeStepImag" id="timeStepImagLabel">Im(Δt)
                </label>
                <br>
                <input type="range" id="timeStepImag"
                        name="timeStepImag"
                        min="-200.0" max="0.0" value="0.0"
                        style="width: 95%;"/>
                <br>
                <input type="checkbox" id="normalizePsi"/>
					<label for="normalizePsi">Normalize Ψ after each frame</label><br/>
            </div>
            <div style="grid-column: 2">
                <canvas style="touch-action: none; background-color: rgb(50.0, 50.0, 50.0);
                               text-align: center;"
                    id="sketchCanvas"></canvas>
            </div>
            <div style="grid-column: 3; padding: 10px;">
                <label for="presetPotential">Preset V(x, y, t)<br>
                    <select id="presetPotential">
                        <option value=0 selected>Free (periodic)</option>
                        <option value=1>Harmonic</option>
                        <!--<option value=2>Double slit</option>!-->
                        <!--<option value=3>Circular well</option>!-->
                        <option value=4>Spike</option>
                        <option value=5>Upside down spike</option>
                        <option value=6>Absorbing boundaries (A.B.)</option>
                        <!--<option value=7>Double slit (A.B.)</option>!-->
                        <option value=8>Spike (A.B.)</option>
                        <option value=9>Upside down spike (A.B.)</option>
                        <option value=10>Moving Gaussian</option>
                        <!--<option value=11>Moving att. spike (A.B.)</option>!-->
                        <!--<option value=12>Upside down Gaussian</option>!-->
                        <!--<option value=13>Rotating harmonic</option>!-->
                    </select>
                </label><br>
                <label for="potentialEntry">Enter V(x, y, t)<br>
                    <input type ="text" id="potentialEntry"
                    value="a*((x/width)^2+(y/height)^2+(z/depth)^2)"
                    name="potentialEntry" size="23"
                    />
                <br>
                <div id="potentialUserSliders"></div>
                <hr/>
                <label for="presetNonlinear">Preset nonlinear term<br>
                    <select id="presetNonlinear" style="width: 48;">
                        <option value=0 selected>None</option>
                        <option value=1>1000*abs(a*psi)^2</option>
                        <!-- 100.0*abs(a*psi)^2 - 0.016*a -->
                        <option value=2>a*exp(-abs(psi)^2/0.01^2)</option>
                        <option value=3>Combination of above two</option>
                    </select>
                </label>
                <br>
                <label for="nonlinearEntry">Enter nonlinearity f(Ψ)<br>
                    <input type="text" id="nonlinearEntry"
                        name="nonlinearEntry" size="23" value="">
                </label>
                <br>
                <div id="nonlinearUserSliders"></div><br>
                <label for="kineticEnergyEntry">Kinetic energy-momentum<br>relation: KE(px, py)<br>
                    <input type="text" id="kineticEnergyEntry"
                        name="nonlinearEntry" size="23" value="(px^2+py^2)/(2*m)">
                </label>
                <br>
                <div id="kineticEnergyUserSliders"></div>
            </div>
        </div>
        <script type="module" src="./sim3d.js"></script>
    </body>
</html>
