<!DOCTYPE html>
<meta charset="utf-8"/>
<html>
	<head>
        <style>
            h2 {font-family:Arial, Helvetica, sans-serif; }
            label {font-family:Arial, Helvetica, sans-serif; }
			text {font-family:Arial, Helvetica, sans-serif; }
        </style>
    </head>
	<body style="background-color: rgb(255, 255, 255);">
			 <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr;">
				<div style="grid-column: 1; /*background-color: rgb(200, 200, 200);*/">
					<label for="stepsPerFrame" id="stepsPerFrameLabel">Updates/frame
					</label>
					<br>
					<input type="range" id="stepsPerFrame"
					name="steps/frame"
					min="0" max="20.0" value="2.0"/>
					<br>
					<label id="fps">fps: </label>
					<br>
					<button type="button"
						aria-pressed="true" id="newWaveFuncButton">New ùõô</button>
					<br>
					<button type="button"
						aria-pressed="true" id="sketchButton">Sketch V</button>
					<button type="button"
						aria-pressed="true" id="eraseButton">Erase V</button>
					<br>
					<label for="sketchWidth" id="sketchWidthLabel">Sketch size</label>
					<br>
					<input type="range" id="sketchWidth" name="sketchWidth"
						min="0" max="100" value="50"/>
					<br>
					<input type="checkbox" id="showPotential" checked="true"></input>
					<label for="showPotential">Show V</label>
					<br>
					<input type="checkbox" id="showSurface"></input>
					<label for="showSurface">3D display</label>
					<br>
					<label for="timeStepReal" id="timeStepRealLabel">Re(Œît)
					</label>
					<br>
					<input type="range" id="timeStepReal"
							name="timeStepReal"
							min="-80.0" max="80.0" value="64.0"/>
					<br>
					<label for="timeStepImag" id="timeStepImagLabel">Im(Œît)
					</label>
					<br>
					<input type="range" id="timeStepImag"
							name="timeStepImag"
							min="-200.0" max="0.0" value="0.0"/>
					<br>
					<input type="checkbox" id="normalizePsi"/>
					<label for="normalizePsi">Normalize ùõô</label><br>
					<label style="text-align: center;"> for each frame</label><br>
				</div>
				<div style="grid-column-start: 2; grid-column-end: 3">
					<canvas style="touch-action: none; background-color: rgb(50, 50, 50);"
						id="sketchCanvas"></canvas>
				</div>
				<div style="grid-column: 4; resize: vertical">
					<label>Simulation domain</label><br>
					<label id="xRangeLabel"> -128 &leq; x &lt; 128</label><br>
					<label id="yRangeLabel"> -128 &leq; y &lt; 128</label><br>
					<label id="changeGridLabel" for="changeGrid">Grid size
					</label>
					<select id="changeGrid">
						<option value=16>16x16</option>
						<option value=32>32x32</option>
						<option value=64>64x64</option>
						<option value=128>128x128</option>
						<option value=256>256x256</option>
						<option value=512>512x512</option>
						<option value=1024>1024x1024</option>
						<option value=2048>2048x2048</option>
					</select><br><br>
					<label for="presetPotential">Preset V(x, y, t)<br>
						<select id="presetPotential">
							<option value=0 selected>Free (periodic)</option>
							<option value=1>Harmonic</option>
							<option value=2>Double slit</option>
							<option value=3>Circular well</option>
							<option value=4>Repulsive spike</option>
							<option value=5>Attractive spike</option>
							<option value=6>Absorbing boundaries (A.B.)</option>
							<option value=7>Double slit (A.B.)</option>
							<option value=8>Repulsive spike (A.B.)</option>
							<option value=9>Attractive spike (A.B.)</option>
							<option value=10>Moving Gaussian</option>
							<!--<option value=11>Moving att. spike (A.B.)</option>!-->
							<option value=12>Attractive moving Gaussian</option>
						</select>
					</label><br>
					<label for="potentialEntry">Enter V(x, y, t)<br>
						<input type ="text" id="potentialEntry"
						value="a*((x/width)^2+(y/height)^2)"
						name="potentialEntry" size="23"
						/>
					<br>
					</label>
					<label id="potentialClippedMessage">
						Please note that to reduce numerical error,
						V will be clipped such that<br\>|V(x, y, t)| &lt; 2
					</label>
					<div id="potentialUserSliders"></div>
					<br>
					<label for="presetNonlinear">Preset nonlinear term<br>
						<select id="presetNonlinear" style="width: 48;">
							<option value=0 selected>None</option>
							<option value=1>100*abs(a*psi)^2</option>
							<option value=2>a*exp(-abs(psi)^2/0.01^2)</option>
							<option value=3>Combination of above two</option>
						</select>
					</label>
					<br>
					<label for="nonlinearEntry">Enter nonlinearity f(ùõô)<br>
						<input type="text" id="nonlinearEntry"
							name="nonlinearEntry" size="23" value="">
					</label>
					<br>
					<div id="nonlinearUserSliders"></div>
					<br>
					<!--<label for="presetKineticEnergy">Preset kinetic term<br>
						<select id="presetNonlinear" style="width: 48;">
							<option value=0 selected>None</option>
							<option value=1>(px^2 + py^2)/(2.0*m)</option>
							<option value=2>(px^2 + py^2)^0.5</option>
						</select>
					</label>
					<br>-->
					<label for="kineticEnergyEntry">Kinetic energy-momentum relation: KE(px, py)<br>
						<input type="text" id="kineticEnergyEntry"
							name="nonlinearEntry" size="23" value="(px^2+py^2)/(2*m)">
					</label>
					<br>
					<div id="kineticEnergyUserSliders"></div>
				</div>
			</div>
		<script>const LENGTH=256;</script>
		<script type="module" src="./main.js"></script>
	</body>
</html>
